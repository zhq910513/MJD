# encoding: utf-8
"""
@author: The King
@project: MJD
@file: wxpay.py
@time: 2025/2/9 15:06
"""
import pprint

from curl_cffi import requests

cookies = {
    'retina': '1',
    'cid': '9',
    'webp': '1',
    'mba_muid': '1737228844272158324158',
    'visitkey': '6140545407211679159',
    'shshshfpa': '3ae6488f-c4f7-520c-1c6c-e410a704a0be-1694073507',
    'shshshfpx': '3ae6488f-c4f7-520c-1c6c-e410a704a0be-1694073507',
    'jcap_dvzw_fp': 'rp4lrirgksJxZ8pUAAtnVaM2cT_rmoOB9qncv3wO_CsC08TQwSQEuL5D7fEd4bCPx8CZSayCmXk4nbeObK3-dg==',
    'whwswswws': '',
    'TrackerID': 'Qx5ECmMY6TlOHWhPT35tVgUyFIdMDH2OepJ83k4yL1fEyQ_iUEWGg43uKM-8VhFFrkRS8huuVwZPPeQ-syjywLM_-x2M4VLo7SQ9mkDA3co',
    'pt_key': 'AAJnjAKLADAKXpZFQ2cmqFTN-XbDpDXuJzhfycVFhniv-UGwHhtR8dnOXpv4PVD4Q_iQBVG3bTo',
    'pt_pin': 'zhq91513',
    'pt_token': '8saaty0n',
    'pwdt_id': 'zhq91513',
    'sc_width': '1440',
    'autoOpenApp_downCloseDate_autoOpenApp_autoPromptly': '1737229231015_1',
    'sbx_hot_h': 'null',
    'warehistory': '"10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,"',
    '__wga': '1737288622116.1737288415041.1737276895329.1737229104732.4.5',
    'shshshfpb': 'BApXSojBwffFAEOafNrC8uK6ljWccwhFkB9ZGMih_9xJ1OsZTbN-Hx0u4dfAVNuY',
    '__jdv': '122270672%7Cdirect%7C-%7Cnone%7C-%7C1738649499413',
    '3AB9D23F7A4B3C9B': 'N5ENAHSQJ4LCSHAZU6V4ONIBT7H5OWJ7QAT5JANZPLGQUUA2LQVA73SQCFPSMNNODES5ENJECTHFIXO6QZSEYYQTCQ',
    'wxa_level': '1',
    'jxsid': '17390828119934645134',
    '__jda': '122270672.1737228844272158324158.1737228844.1738848221.1739082812.22',
    '__jdc': '122270672',
    'cd_eid': 'jdd03N5ENAHSQJ4LCSHAZU6V4ONIBT7H5OWJ7QAT5JANZPLGQUUA2LQVA73SQCFPSMNNODES5ENJECTHFIXO6QZSEYYQTCQAAAAMU2ZHLFGAAAAAAC34DG5L7XBPR6AX',
    'appCode': 'ms0ca95114',
    'PPRD_P': 'UUID.1737228844272158324158',
    'autoOpenApp_downCloseDate_jd_homePage': '1739082857759_1',
    'jxsid_s_u': 'https%3A//trade.m.jd.com/order/orderlist_jdm.shtml',
    '3AB9D23F7A4B3CSS': 'jdd03N5ENAHSQJ4LCSHAZU6V4ONIBT7H5OWJ7QAT5JANZPLGQUUA2LQVA73SQCFPSMNNODES5ENJECTHFIXO6QZSEYYQTCQAAAAMU5F5N2AQAAAAACBAQTIF44RUFUAX',
    '_gia_d': '1',
    'wqmnx1': 'MDEyNjM4NToubW90dGV4OTk0ZTVlbDcxPV9kX3MwMU01ZDFuKWU3VGUgMTAvMVluQjFVRiFI',
    'jxsid_s_t': '1739083960641',
    '__jdb': '122270672.15.1737228844272158324158|22.1739082812',
    'pt_st': '1_YcnVa3tcjTJv_Fh1vUT5Z_QXWq_or4PSlEa_H9xqjkNLMV5lGZWDlKg9czz2jrA2Q180o20oudeMufzQH-HhMhVbS1fsQogEQacPR4dm6mnEFz1R5y9uz5_87NUWRgWV4pNKdCQw43WcvQhn473SA4YBGFvrYM4p9W4JUJjT4m4SzbVLK5PzG6kGtgcz6zV1WvLk5q_UohlI81rShxzNgXTGgLXsIq**',
    'mba_sid': '17390828121186655051122450331.17',
    '__jd_ref_cls': 'MCashierNew_ConfirmPayment',
}

headers = {
    'Accept-Language': 'zh-CN,zh;q=0.9,en;q=0.8,ko;q=0.7',
    'Cache-Control': 'no-cache',
    'Connection': 'keep-alive',
    # 'Cookie': 'retina=1; cid=9; webp=1; mba_muid=1737228844272158324158; visitkey=6140545407211679159; shshshfpa=3ae6488f-c4f7-520c-1c6c-e410a704a0be-1694073507; shshshfpx=3ae6488f-c4f7-520c-1c6c-e410a704a0be-1694073507; jcap_dvzw_fp=rp4lrirgksJxZ8pUAAtnVaM2cT_rmoOB9qncv3wO_CsC08TQwSQEuL5D7fEd4bCPx8CZSayCmXk4nbeObK3-dg==; whwswswws=; TrackerID=Qx5ECmMY6TlOHWhPT35tVgUyFIdMDH2OepJ83k4yL1fEyQ_iUEWGg43uKM-8VhFFrkRS8huuVwZPPeQ-syjywLM_-x2M4VLo7SQ9mkDA3co; pt_key=AAJnjAKLADAKXpZFQ2cmqFTN-XbDpDXuJzhfycVFhniv-UGwHhtR8dnOXpv4PVD4Q_iQBVG3bTo; pt_pin=zhq91513; pt_token=8saaty0n; pwdt_id=zhq91513; sc_width=1440; autoOpenApp_downCloseDate_autoOpenApp_autoPromptly=1737229231015_1; sbx_hot_h=null; warehistory="10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,10022039398507,"; __wga=1737288622116.1737288415041.1737276895329.1737229104732.4.5; shshshfpb=BApXSojBwffFAEOafNrC8uK6ljWccwhFkB9ZGMih_9xJ1OsZTbN-Hx0u4dfAVNuY; __jdv=122270672%7Cdirect%7C-%7Cnone%7C-%7C1738649499413; 3AB9D23F7A4B3C9B=N5ENAHSQJ4LCSHAZU6V4ONIBT7H5OWJ7QAT5JANZPLGQUUA2LQVA73SQCFPSMNNODES5ENJECTHFIXO6QZSEYYQTCQ; wxa_level=1; jxsid=17390828119934645134; __jda=122270672.1737228844272158324158.1737228844.1738848221.1739082812.22; __jdc=122270672; cd_eid=jdd03N5ENAHSQJ4LCSHAZU6V4ONIBT7H5OWJ7QAT5JANZPLGQUUA2LQVA73SQCFPSMNNODES5ENJECTHFIXO6QZSEYYQTCQAAAAMU2ZHLFGAAAAAAC34DG5L7XBPR6AX; appCode=ms0ca95114; PPRD_P=UUID.1737228844272158324158; autoOpenApp_downCloseDate_jd_homePage=1739082857759_1; jxsid_s_u=https%3A//trade.m.jd.com/order/orderlist_jdm.shtml; 3AB9D23F7A4B3CSS=jdd03N5ENAHSQJ4LCSHAZU6V4ONIBT7H5OWJ7QAT5JANZPLGQUUA2LQVA73SQCFPSMNNODES5ENJECTHFIXO6QZSEYYQTCQAAAAMU5F5N2AQAAAAACBAQTIF44RUFUAX; _gia_d=1; wqmnx1=MDEyNjM4NToubW90dGV4OTk0ZTVlbDcxPV9kX3MwMU01ZDFuKWU3VGUgMTAvMVluQjFVRiFI; jxsid_s_t=1739083960641; __jdb=122270672.15.1737228844272158324158|22.1739082812; pt_st=1_YcnVa3tcjTJv_Fh1vUT5Z_QXWq_or4PSlEa_H9xqjkNLMV5lGZWDlKg9czz2jrA2Q180o20oudeMufzQH-HhMhVbS1fsQogEQacPR4dm6mnEFz1R5y9uz5_87NUWRgWV4pNKdCQw43WcvQhn473SA4YBGFvrYM4p9W4JUJjT4m4SzbVLK5PzG6kGtgcz6zV1WvLk5q_UohlI81rShxzNgXTGgLXsIq**; mba_sid=17390828121186655051122450331.17; __jd_ref_cls=MCashierNew_ConfirmPayment',
    'Origin': 'https://mpay.m.jd.com',
    'Pragma': 'no-cache',
    'Referer': 'https://mpay.m.jd.com/',
    'Sec-Fetch-Dest': 'empty',
    'Sec-Fetch-Mode': 'cors',
    'Sec-Fetch-Site': 'same-site',
    'User-Agent': 'Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/132.0.0.0 Safari/537.36',
    'accept': 'application/json, text/plain, */*',
    'content-type': 'application/x-www-form-urlencoded',
    'sec-ch-ua': '"Not A(Brand";v="8", "Chromium";v="132", "Google Chrome";v="132"',
    'sec-ch-ua-mobile': '?0',
    'sec-ch-ua-platform': '"Windows"',
    'x-referer-page': 'https://mpay.m.jd.com/mpay.dcf1ecf4a58ae843d3e0.html',
    'x-rp-client': 'h5_1.0.0',
}

params = {
    'functionId': 'platWapWXPay',
    'appid': 'mcashier',
    'scval': 'mpay',
}

data = {
    'body': '{"appId":"m_D1vmUq63","payId":"1359884d98824d938c45361418a368e9","eid":"N5ENAHSQJ4LCSHAZU6V4ONIBT7H5OWJ7QAT5JANZPLGQUUA2LQVA73SQCFPSMNNODES5ENJECTHFIXO6QZSEYYQTCQ","source":"mcashier","origin":"h5","mcashierTraceId":1739084028606}',
    'x-api-eid-token': 'jdd03N5ENAHSQJ4LCSHAZU6V4ONIBT7H5OWJ7QAT5JANZPLGQUUA2LQVA73SQCFPSMNNODES5ENJECTHFIXO6QZSEYYQTCQAAAAMU5F5N2AQAAAAACBAQTIF44RUFUAX',
    'h5st': '20250209145356100;5931396482503861;303a7;tk03wa0ab1bb818np1HaamwCpCrGf619rlo1wpAO40BjuMUMae3V4hMhYL3oYzK5niVZXiEjAlO3OzA0ChIIU3RIjXrL;1cee3cb5bd85843a1eab96b8eb777c45e24311d985364fdb4201f2fe3eb4342e;3.1;1739084036100;24c9ee85e67cf80746dd82817ecbeafc7a829b35c7f446a4c7d476cc9faa1d8834a93323ad7bce9bef1bba682b93d2e3fd2f0ccc417e4cc7c023fe82837aea5b156a49d62104be664a06bb4c6c4780df8804be58c4b28794f1bb8bc492ac0d47f888ea00503e25730f4e1acd2f3cdfac',
}

# response = requests.post('https://api.m.jd.com/client.action', params=params, cookies=cookies, headers=headers, data=data)
# pprint.pp(response.json())
"getPayInfo"
'20250209153235749;cdxcxdwwpsr93dm1;8e94a;tk03wdb571d3b18ncU3y2TQzIvDrudBf4nUGozcQujDrZbSlEJrYMf-ZKJheDVxrFW0lOyZGqyVeksPaP1O__WEfIkS-;e27b8f2841a51d829d11501403f788d71fc12feeaf3253ebb5ba5b0ab02344fb;5.0;1739086355749;YlyX3VG_1MGLnMS9i8SAhMT71MzR5x2RpAzR5Z3XtZ2N5x2RrMjB3ZXRPp3RnJ2N4Q2BhFDLoJGL2QGBkNGB3AWAkBTL14WNlNGNzAzR5x2RpAV_yQDAiQXR5xZO3BzBiV2MkVjNmNWApRzN38GN3A2B3U2N00GNoBjM3ATN3Z3L3NCBjgDB2QXR5xZO3F2OphHMjcEAt0zA6EW-3Z3L3ByR5Z3XtRHIiJS_yAj_IMkEtQXRfRH_qIz_4QyR5Z3XtR3NmhD-CQXRfR3ApQXR5xZOcYXRPFWRfRXNoFyB3ZXR5Z3XtZWRfRXLkQzR5ZXR5xZOpZ3L39G83QXR5ZXRPpXM5x2RjFyB3ZXR5Z3XtZWRfRHMkQzR5ZXR5xZOpZ3L3JG83QXR5ZXRPpXMkZ3L3NG83QXR5ZXRPpXN5x2RnFyB3ZXR5Z3XtRHMrV2OpRXRfRHNkQzR5ZXR5xZOpZ3L3tj83ZXR5Z3XtFWRfRn9tQXR5ZXRPpXN5x2RtQXR5ZXRPpXN5x2R18yR5ZXR5xp75x2R1gDAl4CA3ZXRPpH65Z3X3NGNkVGLo4z73Z3L3VW93ZXR5Z3XeY3L3ZS93ZXRPp3RlBW75tWMjhD-CYnLphXNoZXELYn9icTAr0jE3Z3L3VD8mQXR5xp7;eb6b4bde76a704f320018db8c6aa5f3e6e66554d3180809c6b4d363257d95c51'
'20250209145356100;5931396482503861;303a7;tk03wa0ab1bb818np1HaamwCpCrGf619rlo1wpAO40BjuMUMae3V4hMhYL3oYzK5niVZXiEjAlO3OzA0ChIIU3RIjXrL;1cee3cb5bd85843a1eab96b8eb777c45e24311d985364fdb4201f2fe3eb4342e;3.1;1739084036100;24c9ee85e67cf80746dd82817ecbeafc7a829b35c7f446a4c7d476cc9faa1d8834a93323ad7bce9bef1bba682b93d2e3fd2f0ccc417e4cc7c023fe82837aea5b156a49d62104be664a06bb4c6c4780df8804be58c4b28794f1bb8bc492ac0d47f888ea00503e25730f4e1acd2f3cdfac'

j = {
    "appId": "m_D1vmUq63",
    "payId": "fb7e7f29c8364ea684d1e08601acc833",
    "source": "mcashier",
    "origin": "h5",
    "mcashierTraceId": 1739114180232
}


# 核心断点
"""
Ho(i, r, o, u, c, "next", t)
"""


